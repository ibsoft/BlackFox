BlackFox is an IT tool written in pure Bash, wich help Administrators generate blocking lists for NGINX and Apache server, based on 218 list providers.

https://atlas.arbor.net/summary/attacks.csv
https://atlas.arbor.net/summary/botnets.csv
#https://atlas.arbor.net/summary/fastflux.csv
#https://atlas.arbor.net/summary/phishing.csv
#https://atlas.arbor.net/summary/scans.csv
http://www.openbl.org/lists/base.txt
#http://www.openbl.org/lists/base_1days.txt
#http://www.openbl.org/lists/base_7days.txt
#http://www.openbl.org/lists/base_30days.txt
#http://www.openbl.org/lists/base_60days.txt
#http://www.openbl.org/lists/base_90days.txt
http://www.openbl.org/lists/base_180days.txt
http://www.openbl.org/lists/base_360days.txt
http://www.openbl.org/lists/base_all.txt
#http://feeds.dshield.org/block.txt
#https://www.dan.me.uk/torlist/
#http://rules.emergingthreats.net/blockrules/emerging-tor.rules
#https://check.torproject.org/exit-addresses
#http://www.darklist.de/raw.php
http://www.botvrij.eu/data/ioclist.ip-dst.raw
http://www.botvrij.eu/data/ioclist.ip-src.raw
http://www.cruzit.com/xwbl2txt.php
http://pgl.yoyo.org/adservers/iplist.php?ipformat=plain&showintro=0&mimetype=plaintext
http://rules.emergingthreats.net/blockrules/compromised-ips.txt
#http://rules.emergingthreats.net/fwrules/emerging-PIX-CC.rules
#http://rules.emergingthreats.net/fwrules/emerging-PIX-DROP.rules
#http://rules.emergingthreats.net/fwrules/emerging-PIX-DSHIELD.rules
#http://rules.emergingthreats.net/fwrules/emerging-Block-IPs.txt
#http://www.spamhaus.org/drop/drop.txt
#http://lists.blocklist.de/lists/all.txt
#http://lists.blocklist.de/lists/ssh.txt
#http://lists.blocklist.de/lists/mail.txt
#http://lists.blocklist.de/lists/apache.txt
#http://lists.blocklist.de/lists/imap.txt
#http://lists.blocklist.de/lists/ftp.txt
#http://lists.blocklist.de/lists/sip.txt
#http://lists.blocklist.de/lists/bots.txt
#http://lists.blocklist.de/lists/strongips.txt
#http://lists.blocklist.de/lists/bruteforcelogin.txt
#https://zeustracker.abuse.ch/blocklist.php?download=badips
#https://zeustracker.abuse.ch/blocklist.php?download=ipblocklist
#https://ransomwaretracker.abuse.ch/feeds/csv/
#https://ransomwaretracker.abuse.ch/downloads/RW_IPBL.txt
#https://ransomwaretracker.abuse.ch/downloads/CW_PS_IPBL.txt
#https://ransomwaretracker.abuse.ch/downloads/TC_PS_IPBL.txt
#https://ransomwaretracker.abuse.ch/downloads/LY_C2_IPBL.txt
#https://ransomwaretracker.abuse.ch/downloads/LY_PS_IPBL.txt
#https://ransomwaretracker.abuse.ch/downloads/TL_PS_IPBL.txt
#https://ransomwaretracker.abuse.ch/downloads/TL_C2_IPBL.txt
#http://malc0de.com/bl/IP_Blacklist.txt
#https://www.threatcrowd.org/feeds/ips.txt
#http://atrack.h3x.eu/c2
#http://www.stopforumspam.com/downloads/toxic_ip_cidr.txt
#http://www.stopforumspam.com/downloads/bannedips.zip
#http://www.stopforumspam.com/downloads/listed_ip_1.zip
#http://www.stopforumspam.com/downloads/listed_ip_7.zip
#http://www.stopforumspam.com/downloads/listed_ip_30.zip
#http://www.stopforumspam.com/downloads/listed_ip_90.zip
#http://www.stopforumspam.com/downloads/listed_ip_180.zip
#http://www.stopforumspam.com/downloads/listed_ip_365.zip
#http://sblam.com/blacklist.txt
#http://www.myip.ms/files/blacklist/csf/latest_blacklist.txt
#http://www.team-cymru.org/Services/Bogons/bogon-bn-agg.txt
#http://www.team-cymru.org/Services/Bogons/fullbogons-ipv4.txt
#http://www.cidr-report.org/bogons/freespace-prefix.txt
#http://tools.rosinstrument.com/proxy/l100.xml
#http://tools.rosinstrument.com/proxy/plab100.xml
#http://www.xroxy.com/proxyrss.xml
#http://www.sslproxies.org/
#http://www.socks-proxy.net/
#http://www.proxz.com/proxylists.xml
#http://multiproxy.org/txt_all/proxy.txt
#http://www.proxylists.net/proxylists.xml
#http://txt.proxyspy.net/proxy.txt
#http://www.proxyrss.com/proxylists/all.gz
#https://www.maxmind.com/en/high-risk-ip-sample-list
#https://reputation.alienvault.com/reputation.generic
#http://www.projecthoneypot.org/list_of_ips.php?t=h&rss=1
#http://www.projecthoneypot.org/list_of_ips.php?t=s&rss=1
#http://www.projecthoneypot.org/list_of_ips.php?t=b&rss=1
#http://www.projecthoneypot.org/list_of_ips.php?t=c&rss=1
#http://www.projecthoneypot.org/list_of_ips.php?t=d&rss=1
#http://www.malwaredomainlist.com/hostslist/ip.txt
#https://blocklist.net.ua/blocklist.csv
#http://support.clean-mx.de/clean-mx/xmlviruses.php?response=alive&fields=ip
#http://support.clean-mx.de/clean-mx/xmlphishing?response=alive&format=csv&domain=
#http://security-research.dyndns.org/pub/malware-feeds/ponmocup-infected-domains-shadowserver.csv
#https://www.turris.cz/greylist-data/greylist-latest.csv
#http://www.urlvir.com/export-ip-addresses/
#https://www.tc.edu.tw/net/netflow/lkout/recent/30
#http://antispam.imp.ch/spamlist
#http://antispam.imp.ch/wormlist
#http://cinsscore.com/list/ci-badguys.txt
#http://danger.rulez.sk/projects/bruteforceblocker/blist.php
#https://www.packetmail.net/iprep.txt
#https://www.packetmail.net/iprep_ramnode.txt
#https://www.packetmail.net/iprep_mail.txt
#https://www.packetmail.net/iprep_emerging_ips.txt
#http://charles.the-haleys.org/ssh_dico_attack_hdeny_format.php/hostsdeny.txt
#http://labs.snort.org/feeds/ip-filter.blf
#http://talosintel.com/feeds/ip-filter.blf
#http://www.dnsbl.manitu.net/download/nixspam-ip.dump.gz
#https://www.autoshun.org/download/?api_key=${AUTOSHUN_API_KEY}&format=csv
#http://www.voipbl.org/update/
#http://stefan.gofferje.net/sipblocklist.zone
#http://www.unsubscore.com/blacklist.txt
#https://dataplane.org/sipquery.txt
#https://dataplane.org/sshpwauth.txt
#https://dataplane.org/sshclient.txt
#https://dataplane.org/sipregistration.txt
#https://dataplane.org/sipinvitation.txt
#https://dataplane.org/vncrfb.txt
#https://dataplane.org/dnsrd.txt
#https://dataplane.org/dnsrdany.txt
#https://dataplane.org/dnsversion.txt
#http://www.nothink.org/blacklist/blacklist_ssh_week.txt
#http://www.nothink.org/blacklist/blacklist_malware_irc.txt
#http://www.nothink.org/blacklist/blacklist_malware_http.txt
#http://www.nothink.org/blacklist/blacklist_malware_dns.txt
#http://osint.bambenekconsulting.com/feeds/c2-ipmasterlist.txt
#http://osint.bambenekconsulting.com/feeds/${list}-iplist.txt
#http://botscout.com/last_caught_cache.htm
#http://blocklist.greensnow.co/greensnow.txt
#http://cybercrime-tracker.net/fuckerz.php
#http://vxvault.net/ViriList.php?s=0&m=100
#https://getaddr.bitnodes.io/api/v1/snapshots/latest/
#https://www.binarydefense.com/banlist.txt
#https://gist.githubusercontent.com/BBcan177/bf29d47ea04391cb3eb0/raw
#https://gist.githubusercontent.com/BBcan177/d7105c242f17f4498f81/raw
#https://raw.githubusercontent.com/pushinginertia/ip-blacklist/master/ip_blacklist.conf
#http://nullsecure.org/threatfeed/master.txt
#https://graphiclineweb.wordpress.com/tech-notes/ip-blacklist/
#http://www.ip-finder.me/ip-full-list/
#http://www.ip-finder.me/download/
#https://public.tableau.com/views/CTAOnlineViz/DashboardData.csv?:embed=y&:showVizHome=no&:showTabs=y&:display_count=y&:display_static_image=y&:bootstrapWhenNotified=true
#https://cleantalk.org/blacklists/submited_today
#https://cleantalk.org/blacklists/updated_today
#https://cleantalk.org/blacklists/top20
#https://raw.githubusercontent.com/ZeroDot1/CoinBlockerLists/master/hosts
#https://raw.githubusercontent.com/ZeroDot1/CoinBlockerLists/master/hosts_optional
#https://raw.githubusercontent.com/ZeroDot1/CoinBlockerLists/master/hosts_browser
#https://raw.githubusercontent.com/ZeroDot1/CoinBlockerLists/master/MiningServerIPList.txt
#http://hosts-file.net/ad_servers.txt
#http://hosts-file.net/emd.txt
#http://hosts-file.net/exp.txt
#http://hosts-file.net/fsa.txt
#http://hosts-file.net/grm.txt
#http://hosts-file.net/hfs.txt
#http://hosts-file.net/hjk.txt
#http://hosts-file.net/mmt.txt
#http://hosts-file.net/pha.txt
#http://hosts-file.net/psh.txt
#http://hosts-file.net/wrz.txt
#http://list.iblocklist.com/?list=xoebmbyexwuiogmbyprb&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=llvtlsjyoyiczbkjsxpf&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=cwworuawihqvocglcoss&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=usrcshglbiilevmyfhse&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=ghlzqtqxnzctvvajwwag&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=ydxerpxkpcfqjaybcssw&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=gyisgnzbhppbvsphucsw&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=uwnukjqktoggdknzrhgh&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=imlmncgrkbnacgcwfjvh&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=plkehquoahljmyxjixpu&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=gihxqmhyunbxhbmgqrla&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=dgxtneitpuvgqqcpfulq&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=xshktygkujudfnjfioro&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=mcvxsnihddgutbjfbghy&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=xpbqleszmajjesnzddhv&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=bcoepfyewziejvcqyhqo&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=cslpybexmxyuacbyuvib&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=pwqnlynprfgtjbgqoizj&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=jhaoawihmfxgnvmaqffp&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=mtxmiireqmjzazcsoiem&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=ficutxiwawokxlcyoeye&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=dufcxgnbjsdwmwctgfuj&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=czvaehmjpsnwwttrdoyl&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=zhogegszwduurnvsyhdf&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=zbdlwrqkabxbcppvrnos&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=ynkdjqsjyfmilsgbogqf&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=zvjxsfuvdhoxktpeiokq&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=erqajhwrxiuvjxqrrwfj&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=npkuuhuxcsllnhoamkvm&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=pbqcylkejciyhmwttify&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=lujdnbasfaaixitgmxpp&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=togdoptykrlolpddwbvz&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=aphcqvpxuqgrkgufjruj&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=tgbankumtwtrzllndbmb&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=cnxkgiklecdaihzukrud&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=ppqqnyihmcrryraaqsjo&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=ercbntshuthyykfkmhxc&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=etmcrglomupyxtaebzht&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=pevkykuhgaegqyayzbnr&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=gfnxlhxsijzrcuxwzebb&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=tukpvrvlubsputmkmiwg&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=eveiyhgmusglurfmjyag&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=qnjdimxnaupjmpqolxcv&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=ejqebpcdmffinaetsvxj&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=odyaqontcydnodrlyina&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=mwjuwmebrnzyyxpbezxu&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=sdlvfabdjvrdttfjotcy&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=zvwwndvzulqcltsicwdg&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=alxugfmeszbhpxqfdits&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=aevzidimyvwybzkletsg&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=nzldzlpkgrcncdomnttb&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=toboaiysofkflwgrttmb&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=rsgyxvuklicibautguia&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=dwwbsmzirrykdlvpqozb&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=cdmdbprvldivlqsaqjol&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=grbtkzijgrowvobvessf&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=aqtsnttnqmcucwrjmohd&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=htnzojgossawhpkbulqw&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=jezlifrpefawuoawnfez&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=twdblifaysaqtypevvdp&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=psaoblrwylfrdsspfuiq&fileformat=p2p&archiveformat=gz
#http://list.iblocklist.com/?list=hngtqrhhuadlceqxbrob&fileformat=p2p&archiveformat=gz
#https://www.gpf-comics.com/dnsbl/export.php
#https://www.us-cert.gov/sites/default/files/publications/TA-17-164A_csv.csv
#

NGINX - Setup

Nginx comes with a simple module called ngx_http_access_module to allow or deny access to IP address. The syntax is as follows:

eny IP;
deny subnet;
allow IP;
allow subnet;
# block all ips
deny    all;
# allow all ips
allow    all;

How Do I Configure Nginx To Block IPs?

Edit nginx.conf file, enter (note my nginx path is set to /usr/local/nginx/, replace this according to your setup):
# cd /usr/local/nginx/conf/
# vi nginx.conf

Add the following line in http section:

## Block spammers and other unwanted visitors  ##
 include blockips.conf;

Save and close the file. Finally, create blockips.conf in /usr/local/nginx/conf/, enter:
# vi blockips.conf

Append / add entries as follows:

deny 1.2.3.4;
deny 91.212.45.0/24;
deny 91.212.65.0/24;

Save and close the file. Test the config file, enter:
# /usr/local/nginx/sbin/nginx -t

Sample outputs:

the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok
configuration file /usr/local/nginx/conf/nginx.conf test is successful


Reload the new config, enter:
# /usr/local/nginx/sbin/nginx -s reload

How Do I Customize HTTP 403 Forbidden Error Messages?

Create a file called error403.html in default document root, enter:
# cd /usr/local/nginx/html
# vi error403.html

<html>
<head><title>Error 403 - IP Address Blocked</title></head>
<body>
Your IP Address is blocked. If you this an error, please contact webmaster with your IP at webmaster@example.com
</body>
</html>

If SSI enabled, you can display the client IP easily from the html page itself:

Your IP Address is <!--#echo var="REMOTE_ADDR" --> blocked.

Save and close the file. Edit your nginx.conf file, enter:
# vi nginx.conf

# redirect server error pages to the static page
 error_page   403  /error403.html;
 location = /error403.html {
         root   html;
 }

Save and close the file. Reload nginx, enter:
# /usr/local/nginx/sbin/nginx -s reload


